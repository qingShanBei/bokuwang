"use strict";$(document).ready(function(){var r=!1,e=!1;$("#username").on("blur",function(){console.log(checkReg.tel($("#username").val().trim())),""!=$("#username").val().trim()?checkReg.tel($("#username").val().trim())?$.ajax({type:"get",url:"../api/login.php",async:!0,data:{username:$("#username").val(),status:"verify"},success:function(e){console.log(e),function(e){"用户名能注册"==e?(r=!0,$("#verifyUserNameMsg").css("color","green")):(r=!1,$("#verifyUserNameMsg").css("color","red"));$("#verifyUserNameMsg").html(e)}(e)}}):($("#verifyUserNameMsg").css("color","red"),$("#verifyUserNameMsg").html("号码不正确"),r=!1):(r=!1,$("#verifyUserNameMsg").css("color","red"),$("#verifyUserNameMsg").html("不能为空"))}),$("#yzm").html(randomCode()),$("#yzm").css("background",randomColor("rgb")),$("#scyzm").click(function(){$("#yzm").html(randomCode()),$("#yzm").css("background",randomColor("rgb"))}),$("#password").blur(function(){""!=$("#password").val().trim()?checkReg.tel($("#username").val().trim())?(e=!0,$("#verifyPassWordMsg").html("密码可以注册"),$("#verifyPassWordMsg").css("color","green")):(e=!1,$("#verifyPassWordMsg").html("密码6位以上且字母开头"),$("#verifyPassWordMsg").css("color","red"),$("#password").val("")):(e=!1,$("#verifyPassWordMsg").html("密码不能为空"),$("#verifyPassWordMsg").css("color","red"))}),$("#login_btn").click(function(){$("#textyzm").val().trim().toLowerCase()==$("#yzm").html().toLowerCase()?r&&e?(alert("注册成功"),$.ajax({type:"get",url:"../api/login.php",async:!0,data:{username:$("#username").val(),password:$("#password").val(),status:"save"}}),cookie.set("username",$("#username").val().trim(),{path:"/"}),location.href="../index.html"):alert("用户名或密码不正确"):($("#verifyyzmMsg").html("验证码错误"),$("#verifyyzmMsg").css("color","red"),$("#textyzm").val(""),$("#yzm").html(randomCode()),$("#yzm").css("background",randomColor("rgb")))})});